<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Rose For You</title>
    <style>
        /* --- CSS Styling --- */
        :root {
            /* Changed to a deeper red for a more classic romantic vibe */
            --primary-red: #d90429;
            --soft-bg: #fff0f3;
        }

        body {
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--soft-bg);
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            overflow: hidden;
            /* Prevents scrollbars during animations */
            text-align: center;
            position: relative;
        }

        /* The main white box container */
        .card {
            background: white;
            padding: 2.5rem;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(217, 4, 41, 0.15);
            width: 85%;
            max-width: 400px;
            min-height: 350px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            transition: all 0.5s ease;
            z-index: 10;
            /* Ensures card stays on top of hearts */
            position: relative;
        }

        .hidden {
            display: none !important;
        }

        /* --- Animations --- */

        /* 1. Rose Loading Animation */
        .rose-loader {
            font-size: 4rem;
            animation: grow 2s infinite ease-in-out;
        }

        @keyframes grow {

            0%,
            100% {
                transform: scale(1);
                filter: brightness(100%);
            }

            50% {
                transform: scale(1.2);
                filter: brightness(110%);
            }
        }

        /* 2. Falling Hearts Animation */
        .heart-fall {
            position: fixed;
            top: -10vh;
            font-size: 2rem;
            animation: fall linear forwards;
            z-index: 1;
            /* Behind the card */
        }

        @keyframes fall {
            to {
                transform: translateY(110vh) rotate(360deg);
            }
        }

        /* --- Inputs & Buttons --- */
        input {
            padding: 12px;
            border: 2px solid #ffccd5;
            border-radius: 10px;
            margin: 1.5rem 0;
            outline: none;
            width: 80%;
            font-size: 1rem;
            text-align: center;
        }

        input:focus {
            border-color: var(--primary-red);
        }

        button {
            padding: 12px 30px;
            border: none;
            border-radius: 30px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: transform 0.2s, background 0.2s;
        }

        button:active {
            transform: scale(0.95);
        }

        .btn-primary {
            background: var(--primary-red);
            color: white;
            box-shadow: 0 5px 15px rgba(217, 4, 41, 0.3);
        }

        .btn-secondary {
            background: #f0f0f0;
            color: #555;
        }

        /* The dodging button needs fixed positioning to jump around the screen */
        #no-btn {
            position: relative;
        }

        /* --- Typography --- */
        h1 {
            color: var(--primary-red);
            font-size: 1.8rem;
            margin-bottom: 0.5rem;
        }

        h2 {
            color: #333;
            margin-top: 0;
        }

        p {
            color: #666;
            line-height: 1.5;
        }

        .big-emoji {
            font-size: 3rem;
            margin: 1rem 0;
        }
    </style>
</head>

<body>

    <div id="screen1" class="card">
        <div class="rose-loader">üåπ</div>
        <p style="margin-top: 20px; font-weight: bold; color: var(--primary-red);">GROWING YOUR ROSE...</p>
    </div>

    <div id="screen2" class="card hidden">
        <div class="big-emoji">üåπ</div>
        <h1>Wait a second!</h1>
        <p>Who is this special rose for?</p>
        <input type="text" id="userName" placeholder="Enter his name here...">
        <button class="btn-primary" onclick="showProposal()">Continue</button>
    </div>

    <div id="screen3" class="card hidden">
        <div class="big-emoji">üåπ</div>
        <h1 id="proposalTitle">For You</h1>
        <p>Will you accept this digital rose and be my Valentine?</p>
        <div style="display: flex; gap: 15px; margin-top: 25px; width: 100%; justify-content: center;">
            <button class="btn-primary" onclick="showFinal()" style="flex: 1; max-width: 150px;">Yes, I will!
                ‚ù§Ô∏è</button>
            <button id="no-btn" class="btn-secondary" style="flex: 1; max-width: 150px;">No</button>
        </div>
    </div>

    <div id="screen4" class="card hidden">
        <h1 style="color: var(--primary-red);">Happy Rose Day!</h1>
        <h2 id="finalName">Hey!</h2>
        <p style="font-style: italic;">"Just like this digital rose, my feelings for you are designed to never wilt or
            fade. You make every day feel like springtime. Happy Rose Day to the one who holds the key to my heart!"</p>
        <div class="big-emoji">üåπ‚ú®üíñ</div>
    </div>


    <script>
        // 1. Automatic transition from Loading to Name Entry (after 3 seconds)
        setTimeout(() => {
            document.getElementById('screen1').classList.add('hidden');
            document.getElementById('screen2').classList.remove('hidden');
        }, 3000);

        // 2. Function to handle Name Entry and show the proposal
        function showProposal() {
            const nameInput = document.getElementById('userName');
            const name = nameInput.value.trim(); // .trim() removes accidental spaces
            if (!name) {
                nameInput.style.borderColor = 'red';
                return;
            }

            document.getElementById('proposalTitle').innerText = `For you, ${name}`;
            document.getElementById('screen2').classList.add('hidden');
            document.getElementById('screen3').classList.remove('hidden');
        }

        // 3. Function to show final screen and start hearts
        function showFinal() {
            const name = document.getElementById('userName').value.trim();
            document.getElementById('finalName').innerText = `Hey ${name} ‚ù§Ô∏è`;
            document.getElementById('screen3').classList.add('hidden');
            document.getElementById('screen4').classList.remove('hidden');

            // Trigger the hearts!
            startFallingHearts();
        }

        // --- The Dodging Button Logic ---

        const noBtn = document.getElementById('no-btn');

        // Function to move the button to a random spot
        function moveButton() {
            const x = Math.random() * (window.innerWidth - noBtn.offsetWidth - 20); // -20 keeps it away from very edge
            const y = Math.random() * (window.innerHeight - noBtn.offsetHeight - 20);

            noBtn.style.position = 'fixed';
            noBtn.style.left = `${x}px`;
            noBtn.style.top = `${y}px`;
        }

        // Works on desktop (mouse hover)
        noBtn.addEventListener('mouseover', moveButton);

        // Works on mobile (touch)
        noBtn.addEventListener('touchstart', (e) => {
            e.preventDefault(); // Stops the "click" from happening
            moveButton();
        });


        // --- Falling Hearts Animation Logic ---
        function startFallingHearts() {
            setInterval(createHeart, 300); // Create a new heart every 300ms
        }

        function createHeart() {
            const heart = document.createElement('div');
            heart.classList.add('heart-fall');
            heart.innerHTML = '‚ù§Ô∏è';

            // Random horizontal position
            heart.style.left = Math.random() * 100 + 'vw';

            // Random animation speed (between 3s and 6s)
            const duration = Math.random() * 3 + 3;
            heart.style.animationDuration = duration + 's';

            // Random size variation
            heart.style.fontSize = (Math.random() * 1 + 1.5) + 'rem';

            document.body.appendChild(heart);

            // Remove the heart after it falls off screen to keep the site fast
            setTimeout(() => {
                heart.remove();
            }, duration * 1000);
        }

    </script>
</body>

</html>